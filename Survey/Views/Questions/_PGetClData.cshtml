
<script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>

@{
    var Role = Session["Role"].ToString();
}

<table id="tbldocuments" class="display" style="overflow-y:scroll">
    <thead>
        <tr>
            <th>Date</th>
            <th>Project Name</th>
            <th>Project Code</th>
            <th>Client Name</th>
            <th>Project Manager</th>
            <th>Project Engineer</th>
            <th>Help Desk</th>
            <th>Solution Archetect</th>

            <th>CL-PM</th>
            <th>CL-PE</th>

            <th>PE-PM</th>

            <th>PM-PE</th>

            <th>HD-PM</th>
            <th>HD-PE</th>
            <th>SA-PE</th>
            <th>PM-SA</th>
            <th>PE-SA</th>
            <th>Status</th>
            <th>Details</th>
            @if (Role == "1")
            {
                <th>Edit Survey</th>
                <th>Delete Survey</th>
            }
        </tr>
    </thead>
    <tbody>
        @foreach (var obj in Model.ClList)
        {
            <tr>
                <td style="width:30px;">@obj.PS_Date.ToString("MM/dd/yyyy")</td>
                <td>@obj.PS_ProjectName</td>
                <td>@obj.PS_ProjectCode</td>
                <td>@obj.PS_ClientName</td>
                <td>@obj.PS_PM_Name</td>
                <td>@obj.PS_PE_Name</td>
                <td>@obj.PS_HD_Name</td>
                <td>@obj.PS_SA_Name</td>
                <td>
                    @if (@obj.PS_Client_PM_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "CLPM" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>
                <td>
                    @if (obj.PS_Client_PE_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "CLPE" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>
                <td>
                    @if (obj.PS_PM_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "PEPM" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>

                <td>
                    @if (obj.PS_PE_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "PMPE" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>

                <td>
                    @if (obj.PS_HD_PM_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "HDPM" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>
                <td>
                    @if (obj.PS_HD_PE_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "HDPE" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>

                <td>
                    @if (obj.PS_SA_PE_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "SAPE" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>
                <td>
                    @if (obj.PS_PM_SA_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "PMSA" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>
                <td>
                    @if (obj.PS_PE_SA_Status == true)
                    {
                        <a href="@Url.Action("ReviewRatingpage", "Questions", new { value = obj.PS_ID + "," + "PESA" })" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>
                <td>
                    @if (obj.PS_Status == true)
                    {
                        <a href="@Url.Action("ReviewRating", "Questions", new { id = obj.PS_ID})" title="Widget View" class="links">
                            <img alt="Details" src="~/images/icons/Compeleted.png" style="width: 25px;">
                        </a>
                    }
                    else
                    {
                        <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                    }
                </td>



                <td>
                    <a href="#" style="color: Red; text-decoration: none;float:left;">
                        @*<span class="glyphicon glyphicon-search"></span>Details*@
                        @Html.ActionLink("Details", "ReviewRating", "Questions", new { id = obj.PS_ID, style = "color: red;" }, new { @class = "EditTd" })
                    </a>
                </td>

                @if (Role == "1")
                {
                    <td><i style='font-size:24px' class='far' onclick="EditGetCLData(@obj.PS_ID)">&#xf044;</i></td>
                    <td><i style='font-size:24px' class='fas' onclick="DeleteGetCLData(@obj.PS_ID)">&#xf2ed;</i></td>
                }

                @*<td>
                        @Html.ActionLink("Edit", "Questionnaire", "Questionnaire", new { id = obj.PS_ID }, new { @class = "EditTd" })
                    </td>*@
            </tr>

        }
    </tbody>

</table>



<table id="tbldocuments" class="MobViewdisplay">

    @foreach (var obj in Model.ClList)
    {
        <tr>
            <th>Date</th>
            <td style="width:30px;">@obj.PS_Date.ToString("MM/dd/yyyy")</td>
        </tr>
        <tr>
            <th>Project Name</th>
            <td>@obj.PS_ProjectName</td>
        </tr>
        <tr>
            <th>Project Code</th>
            <td>@obj.PS_ProjectCode</td>
        </tr>
        <tr>
            <th>Client Name</th>
            <td>@obj.PS_ClientName</td>
        </tr>
        <tr>
            <th>Project Manager</th>
            <td>@obj.PS_PM_Name</td>
        </tr>
        <tr>
            <th>Project Engineer</th>
            <td>@obj.PS_PE_Name</td>
        </tr>
        <tr>
            <th>Help Desk</th>
            <td>@obj.PS_HD_Name</td>
        </tr>
        <tr>
            <th>CL-PM</th>
            <td>
                @if (@obj.PS_Client_PM_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>
        </tr>
        <tr>
            <th>CL-PE</th>
            <td>
                @if (obj.PS_Client_PE_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>
        </tr>
        <tr>
            <th>PE-PM</th>
            <td>
                @if (obj.PS_PM_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>
        </tr>
        <tr>
            <th>PM-PE</th>
            <td>
                @if (obj.PS_PE_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>
        </tr>
        <tr>
            <th>HD-PM</th>
            <td>
                @if (obj.PS_HD_PM_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>
        </tr>
        <tr>
            <th>HD-PE</th>
            <td>
                @if (obj.PS_HD_PE_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>
        </tr>
        <tr>
            <th>Status</th>
            <td>
                @if (obj.PS_Status == true)
                {
                    <img src="~/images/icons/Compeleted.png" style="width: 25px;" />
                }
                else
                {
                    <img src="~/images/icons/incompleted.png" style="width: 25px;" />
                }
            </td>

        </tr>
        <tr>
            <th>Details</th>
            <td>
                <a href="#" style="color: Red; text-decoration: none;float:left;">
                    @*<span class="glyphicon glyphicon-search"></span>Details*@
                    @Html.ActionLink("Details", "ReviewRating", "Questions", new { id = obj.PS_ID, style = "color: red;" }, new { @class = "EditTd" })
                </a>
            </td>

        </tr>

        if (Role == "1")
        {
            <tr>
                <th>Edit Survey</th>
                <td><i style='font-size:24px' class='far' onclick="EditGetCLData(@obj.PS_ID)">&#xf044;</i></td>
            </tr>
            <tr>
                <th>Delete Survey</th>
                <td><i style='font-size:24px' class='fas' onclick="DeleteGetCLData(@obj.PS_ID)">&#xf2ed;</i></td>
            </tr>
        }

        <tr>
            <th> </th>
            <td>
                &nbsp;
            </td>
        </tr>
    }

</table>


<script>
    function EditGetCLData(PS_ID) {
           var link = '@Url.Action("EditCldata", "Questions", new { PS_ID = "replace", Mode = "Modes" })';
        link = link.replace("replace", PS_ID);
        link = link.replace("Modes", "Edit");
         window.location.href = link.replace(/&amp;/g, '&');

    }
</script>
<script>
    function DeleteGetCLData(PS_ID) {
        var isConfirmed = confirm("Are you sure you want to delete this data?");
        if (isConfirmed) {
            var link = '@Url.Action("DeleteGetCLData", "Questions", new { PS_ID = "replace", Mode = "Modes" })';
            link = link.replace("replace", PS_ID);
            link = link.replace("Modes", "Edit");
            window.location.href = link.replace(/&amp;/g, '&');
        }
    }
</script>


<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript" src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
<script src="~/Content/assets/js/main.js"></script>
<script src="~/Content/src/jquery.flashy.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

<script type="text/javascript">

    function funcreviewrateings(PS_ID) {

        $.ajax({
            type: "Post",
            url: '@Url.Action("ReviewRatingpage", "Questions")',
            data: JSON.stringify({ Value: PS_ID }),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function(response) {
                // Redirect to the desired page
                window.location.href = response.Questions/ReviewRatingpage; // Change "redirectUrl" to the property name in your response object
            },
            error: function(xhr, status, error) {
                // Handle errors if needed
                console.error(xhr.responseText);
            }
        });
    }
</script>



<style>
    table {
        border-collapse: collapse;
        width: 100%;
        font-family: "Gill Sans", sans-serif;
        font-size: 12px;
    }

    th, td {
        text-align: left;
        padding: 8px;
    }

    th {
        background-color: #D6DBDF;
        color: black;
    }

    td {
        font-weight: 400;
    }

    tr:nth-child(even) {
        background-color: #f2f2f2;
    }
</style>